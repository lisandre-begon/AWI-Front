<div class="jeu-details-container">
  <h2>Liste des Jeux</h2>

  <!-- Liste des jeux -->
  <ul>
    <li *ngFor="let jeu of jeux" (click)="selectJeu(jeu)" class="clickable">
      <span>{{ jeu.intitule }} - {{ jeu.editeur }} ({{ jeu.prix | currency }})</span>
      <button (click)="deleteJeu(); $event.stopPropagation();" class="btn btn-danger btn-sm">Supprimer</button>
    </li>
  </ul>

  <!-- Détails du jeu sélectionné -->
  <div *ngIf="selectedJeu" class="jeu-details">
    <h3>Détails du jeu sélectionné</h3>
    <p><strong>Nom :</strong> {{ selectedJeu.intitule }}</p>
    <p><strong>Éditeur :</strong> {{ selectedJeu.editeur }}</p>
    <p><strong>Vendeur :</strong> {{ selectedJeu.vendeur }}</p>
    <p><strong>Statut :</strong> {{ selectedJeu.statut }}</p>
    <p><strong>Date de dépôt :</strong> {{ selectedJeu.dateDepot | date }}</p>
    <p><strong>Prix :</strong> {{ selectedJeu.prix | currency }}</p>
    <p><strong>Quantités :</strong> {{ selectedJeu.quantites }}</p>
    <p><strong>Catégories :</strong> {{ selectedJeu.categories.join(', ') }}</p>

    <!-- Formulaire de modification -->
    <form [formGroup]="jeuForm" (ngSubmit)="updateJeu()">
      <h4>Modifier le jeu</h4>
      <label>
        Nom :
        <input type="text" formControlName="intitule" />
      </label>
      <br />
      <label>
        Éditeur :
        <input type="text" formControlName="editeur" />
      </label>
      <br />
      <label>
        Statut :
        <select formControlName="statut">
          <option value="disponible">Disponible</option>
          <option value="pas disponible">Pas disponible</option>
          <option value="vendu">Vendu</option>
        </select>
      </label>
      <br />
      <label>
        Prix :
        <input type="number" formControlName="prix" />
      </label>
      <br />
      <label>
        Quantités :
        <input type="number" formControlName="quantites" />
      </label>
      <br />
      <label>
        Catégories :
        <input type="text" formControlName="categories" placeholder="Séparer par des virgules" />
      </label>
      <br />
      <button type="submit">Mettre à jour</button>
      <button type="button" (click)="deleteJeu()" class="btn btn-danger">Supprimer</button>
    </form>
  </div>
</div>
