<div class="acheteurs-list">
  <h2>Liste des Acheteurs</h2>
  <ul>
    <li *ngFor="let acheteur of acheteurs">
      {{ acheteur.nom }} {{ acheteur.prenom }}
      <button (click)="selectAcheteur(acheteur)" class="btn btn-info btn-sm">
        Voir les détails
      </button>
    </li>
  </ul>

  <!-- Button to Show Form for Creating a New Acheteur -->
  <button (click)="isCreatingNew = !isCreatingNew" class="btn btn-success btn-sm">
    {{ isCreatingNew ? 'Annuler' : 'Ajouter un Acheteur' }}
  </button>

  <!-- Form to Create a New Acheteur -->
  <div *ngIf="isCreatingNew" class="new-acheteur-form">
    <h3>Créer un nouvel acheteur</h3>
    <form [formGroup]="acheteurForm" (ngSubmit)="addNewAcheteur()">
      <label for="nom">Nom</label>
      <input id="nom" type="text" formControlName="nom" class="form-control" />
      
      <label for="prenom">Prénom</label>
      <input id="prenom" type="text" formControlName="prenom" class="form-control" />
      
      <label for="email">Email</label>
      <input id="email" type="email" formControlName="email" class="form-control" />
      
      <label for="adresse">Adresse</label>
      <input id="adresse" type="text" formControlName="adresse" class="form-control" />
      
      <button type="submit" class="btn btn-primary">Créer</button>
    </form>
  </div>
</div>

<!-- Acheteur Details Section -->
<div class="acheteur-details mt-4" *ngIf="!isCreatingNew">
  <h2>Détails de l'Acheteur</h2>

  <form [formGroup]="acheteurForm" (ngSubmit)="updateAcheteur()">
    <label for="nom">Nom</label>
    <input id="nom" type="text" formControlName="nom" class="form-control" />
    
    <label for="prenom">Prénom</label>
    <input id="prenom" type="text" formControlName="prenom" class="form-control" />
    
    <label for="email">Email</label>
    <input id="email" type="email" formControlName="email" class="form-control" />
    
    <label for="adresse">Adresse</label>
    <input id="adresse" type="text" formControlName="adresse" class="form-control" />
    
    <button type="submit" class="btn btn-primary">Mettre à jour</button>
  </form>
</div>
